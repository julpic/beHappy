<!DOCTYPE html>
<html ng-app="app">

<head>
    <meta charset="utf-8">
    <title>beFruit</title>
    <link href="node_modules/Materialize/materialize.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://brick.a.ssl.fastly.net/Montserrat:300,400,500,600,700" rel="stylesheet">
    <link href="node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="node_modules/ionicons/css/ionicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css"
          integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <link href="assets/css/style.css" rel="stylesheet">

</head>

<body ng-controller="beFruitController">

<div class="wrapper">
    <nav class="nav-extended">
        <div class="container-fluid">
            <button type="button" class="sidebar-open d-lg-none">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand d-none d-lg-inline-block"  href="index.html" >
                <img id="logo-be" class=" brand-logo img-fluid logo" src="assets/img/beFruit%20fy.png">
            </a>
            <ul class="right hide-on-med-and-down">

                <li class="nav-item dropdown">
                    <span class="account-description">Administrador</span>
                    <a class='dropdown-trigger btn' id="btn-armando" href='#'  data-target='opciones-usuario'>
                        <span class="account-name center ">Alan Brito v2.1</span>

                    </a>
                    <!--CHEQUEAR QUE ANGULAR TRAIGA EL NOMBRE DEL USUARIO!!-->
                    <!-- Dropdown Structure -->
                    <ul id='opciones-usuario' class='dropdown-content' >
                        <li><a href="#!"><i class="tiny material-icons">face</i>Mi Usuario</a></li>
                        <li><a href="#!"><i class="tiny material-icons">build</i>Configuración</a></li>
                        <li class="divider" tabindex="-1"></li>
                        <li><a href="#!"><i class="tiny material-icons">vpn_key</i>Cerrar Sesión</a></li>
                    </ul>

                </li>
            </ul>

        </div>
    </nav>

    <div class="content">

        <div class="page-body">
            <div class="container-fluid" style="height: 10px">
                <div class="page-sidebar toggled sidebar">
                    <nav1 class="sidebar-collapse d-none d-lg-block">
                        <i class="material-icons show-on-collapsed">arrow_forward</i>
                        <i class="material-icons hide-on-collapsed">arrow_back </i>
                    </nav1>

                    <ul class="nav nav-pills nav-stacked" id="sidebar-stacked">
                        <li class="d-lg-none">
                            <a href="#" class="sidebar-close"><i class="ion ion-ios-arrow-left"></i></a>
                        </li>
                        <li class="nav-item" ng-click="Inicio()">
                            <a class="nav-link" href="#"><i class="fas active fa-home small"></i><span
                                    class="nav-text">Inicio</span></a>
                        </li>
                        <li class="nav-item" ng-click="Venta()">
                            <a class="nav-link" href="#"><i class="fas fa-shopping-cart small"></i> <span class="nav-text">Venta</span></a>
                        </li>
                        <li class="nav-item" ng-click="Stock()">
                            <a class="nav-link" href="#"><i class="fas fa-dolly small"></i><span class="nav-text">Stock</span></a>
                        </li>
                        <li class="nav-item" ng-click="Proveedores()">
                            <a class="nav-link" href="#"><i class="fas fa-truck small"></i><span class="nav-text">Proveedores</span></a>
                        </li>
                        <li class="nav-item" ng-click="Caja()">
                            <a class="nav-link" href="#"><i class="fas fa-dollar-sign small"></i> <span class="nav-text">Control de caja</span></a>
                        </li>
                        <li class="nav-item" ng-click="Empleados()">
                            <a class="nav-link" href="#"><i class="fas fa-users small"></i> <span
                                    class="nav-text">Empleados</span></a>
                        </li>
                        <li class="nav-item" ng-click="Informes()">
                            <a class="nav-link" href="#"><i class="fas fa-chart-pie small"></i> <span class="nav-text">Informes</span></a>
                        </li>
                        <li class="nav-item" ng-click="Promociones()">
                            <a class="nav-link" href="#"><i class="fas fa-tag small"></i> <span
                                    class="nav-text">Promociones</span></a>
                        </li>
                        <li class="nav-item" ng-click="Franquicias()">
                            <a class="nav-link" href="#"><i class="fas fa-building small"></i> <span class="nav-text">Franquicias</span></a>
                        </li>
                        <li class="nav-item" ng-click="Configuracion()">
                            <a class="nav-link" href="#"><i class="fas fa-cogs small"></i><span
                                    class="nav-text">Configuración</span></a>
                        </li>
                    </ul>
                </div>

                <div class="page-content">

                    <!--INICIO-->
                    <div class="row" ng-show="accion == 'Inicio'">
                        <div class="col-12">
                            <div class="card card-default widget">
                                <div class="card-heading">
                                    <div class="card-controls">
                                    </div>
                                </div>
                                <div class="card-body">
                                    <h3>Habría que pensar qué poner aca...</h3>
                                    {{title}}

                                </div>
                            </div>
                        </div>
                    </div>

                    <!--STOCK-->
                    <div class="row" ng-show="accion == 'Stock'" ng-controller="stockController">
                        <div class="col-md-12">
                            <div class="card card-default widget">
                                <div class="card-heading">

                                    <div class="card-body">
                                        <ul class="nav nav-tabs">
                                            <li role="presentation" class="nav-item" ng-click="Stock1()">
                                                <a href="#" role="tab" data-toggle="tab" ng-class="{'active show': subaccion == 'Stock1'}" class="nav-link"
                                                   aria-selected="true">Stock</a>
                                            </li>
                                            <li role="presentation" class="nav-item" ng-click="Stock2()">
                                                <a href="" role="tab" data-toggle="tab" ng-class="{'active show': subaccion == 'Stock2'}" class="nav-link"
                                                   aria-selected="false">Movimientos</a>
                                            </li>
                                            <li role="presentation" class="nav-item" ng-click="Stock3()">
                                                <a href="" role="tab" data-toggle="tab" ng-class="{'active show': subaccion == 'Stock3'}" class="nav-link"
                                                   aria-selected="false">Nuevo movimiento</a>
                                            </li>
                                            <li role="presentation" class="nav-item" ng-click="Stock4()">
                                                <a href="" role="tab" data-toggle="tab" ng-class="{'active show': subaccion == 'Stock4'}" class="nav-link"
                                                   aria-selected="false">Insumos</a>
                                            </li>
                                            <li role="presentation" class="nav-item" ng-click="Stock5()">
                                                <a href="" role="tab" data-toggle="tab" ng-class="{'active show': subaccion == 'Stock5'}"  class="nav-link"
                                                   aria-selected="false">Unidad de medida</a>
                                            </li>
                                        </ul>

                                        <div class="tab-content" ng-show="subaccion == 'Stock1'">

                                            <div class="tab-pane fade in active show" role="tabcard">

                                                <div class="row" style="">
                                                    <div class="col-sm" style="overflow: auto; height: 425px;">
                                                        <table class="table">
                                                            <thead>
                                                            <tr>
                                                                <th>Id</th>
                                                                <th>Nombre</th>
                                                                <th>Cantidad Stock</th>
                                                                <th>Stock Minimo</th>
                                                                <th>Unidad Medida</th>
                                                                <th colspan="2">Acciones</th>
                                                            </tr>
                                                            </thead>

                                                            <tbody ng-repeat="i in insumos">
                                                            <tr ng-class="{'table-danger': i.cantidadStock < i.stockMinimo}">
                                                                <td>{{i.idInsumo}}</td>
                                                                <td>{{i.nombre}}</td>
                                                                <td>{{i.cantidadStock}}</td>
                                                                <td>{{i.stockMinimo}}</td>
                                                                <td>{{i.unidadMedida.nombre}}</td>
                                                                <td><a ng-click="buscarInsumoPorId(i)" href="#"><i class="material-icons icono-modificar" title="Editar" style="">edit</i></a>
                                                                <a ng-click="borrarInsumo(i)" href="#"><i class="material-icons icono-eliminar " title="Eliminar" style="">delete</i></a></td>
                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <a class=" btn-large waves-effect waves-light white-text "
                                                       ng-click="Stock4()" title="¿Agregar Articulo???"><i
                                                            class="material-icons">add</i></a>
                                                    <div class="offset col 3">
                                                        <a class="  btn-large waves-effect waves-light white-text tooltipped"
                                                           data-position="bottom"
                                                           data-tooltip="Envia informe de stock bajo" href="#"><i
                                                                class="material-icons">mail</i></a>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <div class="tab-content" ng-show="subaccion == 'Stock2'">
                                            <div role="tabcard" class="tab-pane fade in active show">
                                                <div class="row" style="  height: 500px; ">
                                                    <div class="col-sm" style="overflow: auto; height: 500px;">
                                                        <table class=" table table-hover" role="grid"
                                                               style="width: 100%;">
                                                            <thead class="" style="">
                                                            <tr role="row">
                                                                <th class="" style="width: 10px">Nº</th>
                                                                <th class="" style="width: 120.5px;">Fecha</th>
                                                                <th class="" style="width: 40px;">Tipo</th>
                                                                <th class="" style="width: 40px;">Ver Detalles</th>
                                                                <th class="" style="width: 40px;"></th>
                                                            </tr>
                                                            </thead>
                                                            <tbody ng-repeat="m in movimientos | orderBy:'-id'">
                                                            <tr>
                                                                <td>{{m.idMovimientoStock}}</td>
                                                                <td>{{m.fechaHora}}</td>
                                                                <td ng-if="m.entrada == true">Entrada</td>
                                                                <td ng-if="m.entrada == false">Salida</td>
                                                                <td><a ng-click="verDetalles(m)" href="#">Detalles</a>
                                                                </td>
                                                                <td>
                                                                    <i ng-click="anularMovimiento(m)" class="material-icons icono-eliminar "  title="Eliminar" style="">delete</i>
                                                                </td>
                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div class="col-md-3 col-sm-8">
                                                        <table class="table .table-sm table-bordered" role="grid"
                                                               style="width: 100%;">
                                                            <thead class="">
                                                            <tr class="table-secondary">
                                                                <td>Insumo</td>
                                                                <td>Cantidad</td>
                                                                <td>Unidad</td>
                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            <tr ng-repeat="d in detalles">
                                                                <td>{{d.insumo.nombre}}</td>
                                                                <td>{{d.cantidad}}</td>
                                                                <td>{{d.insumo.unidadMedida.nombre}}</td>
                                                            </tr>
                                                            </tbody>
                                                        </table>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-content" ng-show="subaccion == 'Stock3'">
                                            <div role="tabcard" class="tab-panefade in active show ">
                                                <div class="container " style="height: 450px">

                                                    <div class="container" style="float: left; width: 40%">

                                                        <div class="input-field col s8"
                                                             ng-show="!(movimiento.tipo === 'true' || movimiento.tipo === 'false')">

                                                            <select required id ="select-insumos" class="custom-select custom-select-lg mb-1" ng-model="movimiento.tipo">
                                                                <option value="" disabled selected>Elija un tipo...
                                                                </option>
                                                                <option value=true>Entrada</option>
                                                                <option value=false>Salida</option>
                                                            </select>

                                                            <label>Tipo de movimiento</label>
                                                        </div>
                                                        <div class="input-field col s10"
                                                             ng-show="(movimiento.tipo === 'true' || movimiento.tipo === 'false')">
                                                            <div class="input-field col s10">

                                                                <select required id ="select-insumos" class="custom-select custom-select-lg mb-1" ng-model="detalle.insumo"
                                                                        ng-options="insumo as insumo.nombre for insumo in insumos track by insumo.idInsumo"
                                                                        material-select>
                                                                    <option value="">Elija un
                                                                        insumo...
                                                                    </option>


                                                                </select>
                                                                <label>Insumo</label>
                                                            </div>
                                                            <div class="input-field col s8">
                                                                <input ng-model="detalle.cantidad" id="cantidad"
                                                                       type="number" min="1"
                                                                       required>
                                                                <label for="cantidad">Cantidad</label>
                                                            </div>
                                                            <div class="input-field col s8">
                                                                <button type="button" class=" btn btn-danger"
                                                                        ng-click="sumarDetalle(movimiento, detalle)">+
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="container "
                                                         style="float: right; width: 60%; overflow: auto; height: 400px; text-align: center; border-left: 1px solid grey">
                                                        <table class="table table-hover " style="width: 100%; ">
                                                            <thead class="" style="">
                                                            <tr>
                                                                <th scope="col">Nº</th>
                                                                <th scope="col">Insumo</th>
                                                                <th scope="col" style="width: 20px">Cantidad</th>
                                                                <th scope="col" style="">--</th>

                                                            </tr>
                                                            </thead>
                                                            <tbody ng-repeat="d in tempDetalles">
                                                            <tr>
                                                                <th scope="row">{{$index+1}}</th>
                                                                <td style="text-align: center">{{d.insumo.nombre}}</td>
                                                                <td style="text-align: center">{{d.cantidad}}</td>
                                                                <td style="text-align: center">
                                                                    <buttton ng-click="restarDetalle($index)"
                                                                             type="button" class="btn btn-danger"
                                                                             style="border-radius: 5px"><i
                                                                            class="fas fa-trash-alt"></i></buttton>

                                                                </td>
                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div style="float: right ; width: 60%; border-top: 1px solid  grey; padding: 10px"
                                                     ng-show="(movimiento.tipo === 'true' || movimiento.tipo === 'false')">
                                                    <button type="button" ng-show="(tempDetalles.length>0)"
                                                            ng-click="agregarMovimiento()" class=" btn  btn-primary"
                                                            style="">Agregar
                                                    </button>
                                                    <button type="button" ng-click="cancelarMovimiento()"
                                                            class="btn btn-primary" style="float: right">Cancelar
                                                    </button>
                                                </div>

                                            </div>

                                        </div>

                                        <div class="tab-content" ng-show="subaccion == 'Stock4'">
                                            <div role="tabcard" class="tab-pane fade in active show">
                                                <div class="row" >
                                                    <form class="col s12" >
                                                        <div class="row" id="contenedor-agregar-insumos-stock">
                                                            <div class="input-field col s4">
                                                                <input id="nombre" type="text" class="validate"
                                                                       ng-model="nvoInsumo.nombre"
                                                                       placeholder="{{nvoInsumo.idInsumo == null ? '' : 'nvoInsumo.nombre' }}" required>
                                                                <label for="nombre">Nombre del insumo</label>
                                                            </div>
                                                            <div class="input-field col s2">
                                                                <input id="stockMinimo" type="number" class="validate"
                                                                       placeholder="{{nvoInsumo.idInsumo == null ? '' : 'nvoInsumo.stockMinimo' }}"
                                                                       ng-model="nvoInsumo.stockMinimo" min="1" required>
                                                                <label for="stockMinimo">
                                                                    Stock Minimo
                                                                </label>
                                                            </div>

                                                            <div class="input-field col s2">
                                                            <select required id ="select-insumos" class="custom-select custom-select-lg mb-1" ng-model="nvoInsumo.unidadMedida"
                                                                    ng-options="u as u.nombre for u in unidades track by u.idUnidad">
                                                                <option value="" disabled selected>Elija su unidad..</option>

                                                            </select>
                                                            <label id="label-unidadMedida">Unidad de medida</label>
                                                            </div>

                                                            <div class="input-field col s4">
                                                                <input id="cantidadStock" type="number" class="validate"
                                                                       ng-model="nvoInsumo.cantidadStock"
                                                                       placeholder="{{nvoInsumo.idInsumo == null ? '' : 'nvoInsumo.cantidadStock' }}" min="1" required>
                                                                <label for="cantidadStock">Cantidad a agregar</label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col s12">
                                                                <a class="waves-effect waves-light btn-large  white-text"
                                                                   ng-click="grabarInsumo()">{{ nvoInsumo.idInsumo ==
                                                                    null ? 'Guardar nuevo!' : 'Guardar cambios!'}}</a>
                                                            </div>

                                                        </div>

                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-content" ng-show="subaccion == 'Stock5'">
                                            <div role="tabcard" class="tab-pane fade in active show">
                                                <div class="container " >
                                                    <div class="row">
                                                        <div class="col">
                                                            <div class="row">
                                                                <div class="container" style="overflow: auto; height: 400px;">
                                                                <table class="table">
                                                                    <thead>
                                                                    <tr>
                                                                        <td>Nº</td>
                                                                        <td colspan="2">Nombre</td>
                                                                    </tr>
                                                                    </thead>
                                                                    <tbody ng-repeat="um in unidades" >
                                                                    <tr>
                                                                        <td>{{um.idUnidad}}</td>
                                                                        <td>{{um.nombre}}</td>
                                                                        <td><a ng-click="buscarUnidadMedidaPorId(um)"
                                                                               href="#"><i class="material-icons icono-modificar"  title="Editar" >edit</i></a>
                                                                            <a ng-click="borrarUnidadMedida(um)" href="#"><i class="material-icons icono-eliminar "  title="Eliminar" style="">delete</i></a></td>
                                                                    </tr>

                                                                    </tbody>
                                                                </table>


                                                            </div>
                                                            </div>


                                                            <div class="row">
                                                                <div class="col align-self-center">
                                                                    <a class=" btn-large waves-effect waves-light white-text "
                                                                       ng-click="nuevaUnidadMedida()"><i class="material-icons">add</i></a>
                                                                </div>

                                                            </div>
                                                        </div>

                                                        <div  class="col"
                                                              style="float: right; overflow: auto; height: 400px; text-align: center; border-left: 1px solid grey">
                                                            <form >

                                                                <div class="row" id="contenedor-modificar-unidmedida-stock">

                                                                    <div class="input-field col">
                                                                        <input id="idUm" type="text" class="validate"
                                                                               ng-model="nvoUnidad.idUnidad"
                                                                               placeholder="{{nvoUnidad.idUnidad == null ? '' : 'nvoUnidad.idUnidad' }}" disabled value="{{nvo.idUnidad}}">
                                                                        <label for="idUm">ID</label>
                                                                    </div>
                                                                    <div class="input-field col ">
                                                                        <input required id="NombreUM" type="text" class="validate"
                                                                               ng-model="nvoUnidad.nombre"
                                                                               placeholder="{{nvoUnidad.nombre == null ? '' : 'nvoUnidad.nombre'}}" value="{{nvoUnidad.nombre}}">
                                                                        <label for="Nombre">
                                                                            Nombre
                                                                        </label>
                                                                    </div>


                                                                </div>
                                                                <div class="row justify-content-md-center">

                                                                        <a class="waves-effect waves-light btn-large  white-text"
                                                                           ng-click="grabarUnidadMedida()">{{ nvoUnidad.idUnidad ==
                                                                            null ? 'Guardar nuevo!' : 'Guardar cambios!'}}</a>


                                                                </div>

                                                            </form>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--PROVEEDORES-->
                    <div class="row" ng-show="accion == 'Proveedores'" ng-controller="proveedoresController">
                        <div class="col-md-12">
                            <div class="card card-default widget">
                                <div class="card-heading">
                                </div>
                                <div class="card-body">
                                    <ul class="nav nav-tabs">
                                        <li role="presentation" class="nav-item" ng-click="Proveedores1()">
                                            <a href="#" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Proveedores1'}" 
                                               aria-selected="true">Proveedores</a>
                                        </li>

                                        <li role="presentation" class="nav-item" ng-click="Proveedores2()">
                                            <a href="" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Proveedores2'}" 
                                               aria-selected="false">Nuevo Proveedor</a>
                                        </li>
                                    </ul>
                                    <div class="tab-content" ng-show="subaccion == 'Proveedores1'">

                                        <div class="tab-pane fade in active show" role="tabcard">
                                            <table class="table centered">
                                                <thead>
                                                <tr>
                                                    <th scope="col">#</th>
                                                    <th scope="col">Razón Social</th>
                                                    <th scope="col">Cuit</th>
                                                    <th scope="col">Contacto</th>
                                                    <th scope="col">Email</th>
                                                    <th scope="col">Estado</th>
                                                    <th scope="col">--</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr ng-repeat="p in proveedores">
                                                    <td>{{p.idProveedor}}</td>
                                                    <td>{{p.razonSocial}}</td>
                                                    <td>{{p.cuit}}</td>
                                                    <td>{{p.telefonoContacto}}</td>
                                                    <td>{{p.eMail}}</td>
                                                    <td>{{p.alta}}</td>
                                                    <td><i class="material-icons icono-modificar"  title="Editar" ng-click="modificarProveedor(p)" style="">edit</i>
                                                        <i class="material-icons icono-eliminar "  title="Eliminar" style="" ng-click="borrarProveedor(p)">delete</i></td>
                                                </tr>
                                                </tbody>
                                            </table>

                                        </div>
                                    </div>

                                    <div class="tab-content" ng-show="subaccion == 'Proveedores2'">

                                        <div class="tab-pane fade in active show" role="tabcard">
                                            <form action="" id="contenedor-nuevo-proveedor" class="col s12">
                                                <div class="input-field col s6">
                                                    <input ng-model="p.razonSocial" required type="text" class="validate" placeholder="Razon Social" >
                                                    <label for="">Razon Social</label>
                                                </div>
                                                <div class="input-field col s6">
                                                    <input ng-model="p.cuit" required type="number" class="validate" placeholder="CUIT" >
                                                    <label for="">CUIT</label>
                                                </div>
                                                <div class="input-field col s6">
                                                    <input ng-model="p.telefonoContacto" required type="number" class="validate" placeholder="Numero de Contacto">
                                                    <label for="">Número de Contacto</label>
                                                </div>
                                                <div class="input-field col s6">
                                                    <input ng-model="p.eMail" required type="email" class="validate" placeholder="Email">
                                                    <label for="">Email</label>
                                                </div>
                                                <div class="input-field col s6">
                                                    <select ng-model="p.alta" required class="custom-select">
                                                        <option ng-value="true" selected> Activo</option>
                                                        <option ng-value="false">No Activo</option>
                                                    </select>
                                                </div>


                                                <div class="col s12">
                                                    <a id="btn-aceptar-agregar-sucursal" class="waves-effect waves-light btn-large  white-text z-depth-4" title="Aceptar" ng-click="grabarProveedor(p)">Aceptar</a>
                                                    
                                                </div>
                                            </form>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <!--VENTA-->
                    <div class="row" ng-show="accion == 'Venta'" ng-controller="ventaController">
                        <div class="col-md-12">
                            <div class="card card-default widget">
                                <div class="card-heading">
                                </div>
                                <div class="card-body">

                                </div>
                            </div>
                        </div>
                    </div>

                    <!--CAJA-->
                    <div class="row" ng-show="accion == 'Caja'" ng-controller="cajaController">
                        <div class="col-md-12">
                            <div class="card card-default widget">
                                <div class="card-heading">
                                </div>
                                <div class="card-body">
                                    <ul class="nav nav-tabs">
                                        <li role="presentation" class="nav-item">
                                            <a href="#" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Caja1'}" 
                                               aria-selected="true">Caja</a>
                                        </li>
                                        <li role="presentation" class="nav-item">
                                            <a href="" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Caja2'}" 
                                               aria-selected="false">Movimientos</a>
                                        </li>
                                        <li role="presentation" class="nav-item">
                                            <a href="" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Caja3'}" 
                                               aria-selected="false">Cierre de caja</a>
                                        </li>
                                    </ul>

                                </div>
                            </div>
                        </div>
                    </div>

                    <!--EMPLEADOS-->
                    <div class="row" ng-show="accion == 'Empleados'" ng-controller="empleadosController">
                        <div class="col-md-12">
                            <div class="card card-default widget">
                                <div class="card-heading">
                                </div>
                                <div class="card-body">
                                    <ul class="nav nav-tabs">
                                        <li role="presentation" class="nav-item" ng-click="Empleados1()">
                                            <a href="#" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Empleados1'}" 
                                               aria-selected="true">Empleados</a>
                                        </li>

                                        <li role="presentation" class="nav-item" ng-click="Empleados2()">
                                            <a href="" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Empleados2'}" 
                                               aria-selected="false">Nuevo Empleado</a>
                                        </li>
                                    </ul>
                                    <div class="tab-content" ng-show="subaccion == 'Empleados1'">

                                        <div class="tab-pane fade in active show" role="tabcard">
                                            <table class="table centered">
                                                <thead>
                                                <tr>
                                                    <th scope="col">#</th>
                                                    <th scope="col">Nombre</th>
                                                    <th scope="col">Apellido</th>
                                                    <th scope="col">Franquicia</th>
                                                    <th scope="col">Telefono</th>
                                                    <th scope="col">Email</th>
                                                    <th scope="col">Estado</th>
                                                    <th scope="col">--</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr ng-repeat="e in empleados">
                                                    <td>{{e.idEmpleado}}</td>
                                                    <td>{{e.nombre}}</td>
                                                    <td>{{e.apellido}}</td>
                                                    <td>{{e.idFranquicia}}</td>
                                                    <td>{{e.telefonoContacto}}</td>
                                                    <td>{{e.eMail}}</td>
                                                    <td ng-if="e.alta == false">Fuera de actividad</td>
                                                    <td ng-if="e.alta == true">Activo</td>
                                                    <td><i class="material-icons icono-modificar"  title="Editar" style="" ng-click="modificarEmpleado(e)">edit</i>
                                                        <i class="material-icons icono-eliminar "  title="Eliminar" style="" ng-click="borrarEmpleado(e)">delete</i></td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <div class="tab-content" ng-show="subaccion == 'Empleados2'">

                                        <div class="tab-pane fade in active show" role="tabcard">
                                            <form action="" class="col s12">
                                                <div class=" " id="contenedor-info_empleado-empleado" style="">
                                                    <p id="titulo-contenedor-sucursal">Datos de Empleado</p>
                                                    <!-- inputs de los datos de Empleados-->

                                                    <div class="input-field col s6">
                                                        <input required placeholder="Nombre" id="" type="text" class="validate" ng-model="empleado.nombre">
                                                        <label for="">Nombre</label>
                                                    </div>
                                                    <div class="input-field col s6">
                                                        <input required placeholder="Apellido" id="" type="text" class="validate" ng-model="empleado.apellido">
                                                        <label for="">Apellido</label>
                                                    </div>
                                                    <div class="input-field col s6">
                                                        <input required type="text" class="validate" placeholder="Documento" ng-model="empleado.dni">
                                                        <label for="">Número de Documento</label>
                                                    </div>
                                                    <div class="input-field col s6">
                                                        <input required type="text" class="validate" placeholder="Año-Mes-Dia" required pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" ng-model="empleado.fechaNacimiento">
                                                        <label for="">Fecha de Nacimiento</label>
                                                    </div>

                                                    <div class="input-field col s6">
                                                        <input required type="text" class="validate" placeholder="Número de Teléfono" ng-model="empleado.telefonoContacto">
                                                        <label for="">Número de Teléfono</label>
                                                    </div>
                                                    
                                                    <div class="input-field col s6">
                                                        <input type="text" class="validate" placeholder="Email" ng-model="empleado.eMail">
                                                        <label for="">Email</label>
                                                    </div>

                                                    <div class="input-field col s6">
                                                        <select  required class="custom-select left " ng-model="empleado.idFranquicia">
                                                            <option selected disabled>Elegir Sucursal</option>
                                                            <option ng-value="1">Sucursal 1</option>
                                                            <option ng-value="2">Sucursal 2</option>
                                                        </select>
                                                    </div>

                                                    <div class="input-field col s6">
                                                        <select  required class="custom-select " ng-model="empleado.alta">
                                                            <option selected disabled>Elegir Estado</option>
                                                            <option ng-value="true">Activo</option>
                                                            <option ng-value="false">No Activo</option>
                                                       </select>
                                                    </div>
                                                    <div class="col s12">
                                                        <a id="btn-aceptar-agregar-sucursal" class="waves-effect waves-light btn-large  white-text z-depth-4" title="Aceptar" ng-click="grabarEmpleado(empleado)">Aceptar</a>
                                                    </div>
                                                </div>

                                            </form>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <!--INFORMES-->
                    <div class="row" ng-show="accion == 'Informes'" ng-controller="informesController">
                        <div class="col-md-12">
                            <div class="card card-default widget">
                                <div class="card-heading">
                                </div>
                                <div class="card-body">
                                    <ul class="nav nav-tabs">
                                        <li role="presentation" class="nav-item">
                                            <a href="#" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Informes1'}" 
                                               aria-selected="true">Ventas</a>
                                        </li>
                                        <li role="presentation" class="nav-item">
                                            <a href="" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Informes2'}" 
                                               aria-selected="false">Empleados</a>
                                        </li>
                                        <li role="presentation" class="nav-item">
                                            <a href="" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Informes3'}" 
                                               aria-selected="false">Stock</a>
                                        </li>
                                        <li role="presentation" class="nav-item">
                                            <a href="" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Informes4'}" 
                                               aria-selected="false">Productos</a>
                                        </li>
                                    </ul>

                                </div>
                            </div>
                        </div>
                    </div>

                    <!--PROMOCIONES-->
                    <div class="row" ng-show="accion == 'Promociones'" ng-controller="promocionesController">
                        <div class="col-md-12">
                            <div class="card card-default widget">
                                <div class="card-heading">
                                </div>
                                <div class="card-body">
                                    <ul class="nav nav-tabs">
                                        <li role="presentation" class="nav-item">
                                            <a href="#" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Promociones1'}" 
                                               aria-selected="true">Promociones</a>
                                        </li>

                                        <li role="presentation" class="nav-item">
                                            <a href="#" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Promociones2'}" 
                                               aria-selected="false">Agregar</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!--FRANQUICIAS-->
                    <div class="row" ng-show="accion == 'Franquicias'" ng-controller="franquiciasController">
                        <div class="col-md-12">
                            <div class="card card-default widget">
                                <div class="card-heading">
                                    <div class="card-controls">
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="nav nav-tabs">
                                        <li role="presentation" class="nav-item" ng-click="Franquicias1()">
                                            <a href="#" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Franquicias1'}" 
                                               aria-selected="true">Franquicias</a>
                                        </li>
                                        <li role="presentation" class="nav-item" ng-click="Franquicias2()">
                                            <a href="#" role="tab" data-toggle="tab" class="nav-link" ng-class="{'active show': subaccion == 'Franquicias2'}" 
                                               aria-selected="false">Agregar</a>
                                        </li>
                                    </ul>

                                    <div class="tab-content" ng-show="subaccion == 'Franquicias1'">
                                       <!--lISTA-->
                                        <table class="table centered">
                                            <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Direccion</th>
                                                <th scope="col">Estado</th>
                                                <th scope="col">Dueño</th>
                                                <th scope="col">Email</th>
                                                <th scope="col">Empleados</th>
                                                <th scope="col">--</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat="f in franquicias">
                                                <th scope="row">{{f.idFranquicia}}</th>
                                                <td>{{f.direccion}}</td>
                                                <td>{{f.alta}}</td>
                                                <td>{{f.nombreDueno}}</td>
                                                <td>{{f.eMailDueno}}</td>
                                                <td><a href="">Ver</a></td>
                                                <td><i class="material-icons icono-modificar"  title="Editar" style="" ng-click="modificarFranquicia(f)" >edit</i>
                                                    <i class="material-icons icono-eliminar "  title="Eliminar" style="" ng-click="borrarFranquicia(f)">delete</i></td>
                                            </tr>
                                            </tbody>
                                        </table>

                                    </div>







                                    <div class="tab-content" ng-show="subaccion == 'Franquicias2'">
                                        <!---Agregar-->
                                        <form action="">
                                            <div class=" " id="contenedor-info_sucursal-sucursal" style="">
                                                <p id="titulo-contenedor-sucursal">Datos de Franquicia</p>
                                                <!-- inputs de los datos de franquicia-->

                                                <div class="input-field col s6">
                                                    <input placeholder="{{franquicia.idFranquicia == null ? 'Automatico' : 'franquicia.idFranquicia'}}"  id="" type="text" class="validate" disabled ng-model="franquicia.idFranquicia">
                                                    <label for="">Numero de Sucursal</label>
                                                </div>
                                                <div class="input-field col s6">
                                                    <input required placeholder="Dirección" id="" type="text" class="validate" ng-model="franquicia.direccion">
                                                    <label for="">Dirección</label>
                                                </div>

                                                <select required class="custom-select custom-select-lg mb-1" ng-model="franquicia.alta">
                                                    <option value="" ng-value="true" selected>Activo</option>
                                                    <option ng-value="false" >No Activo</option>
                                                </select>


                                            </div>
                                            <!-- inputs de datos de dueño-->
                                            <div class=" " id="contenedor-info_dueno-sucursal" style="">
                                                <p id="titulo-contenedor-sucursal">Datos del Dueño</p>
                                                <div class="input-field col s6">
                                                    <input required placeholder="Nombre del Dueño" id="" type="text" class="validate" ng-model="franquicia.nombreDueno">
                                                    <label for="">Nombre del Dueño</label>
                                                </div>
                                                <div class="input-field col s6">
                                                    <input required placeholder="Apellido del Dueño" id="" type="text" class="validate" ng-model="franquicia.apellidoDueno">
                                                    <label for="">Apellido del Dueño</label>
                                                </div>
                                                <div class="input-field col s6">
                                                    <input required placeholder="Email" id="" type="email" class="validate" ng-model="franquicia.eMailDueno">
                                                    <label for="">Email</label>
                                                </div>
                                                <div class="input-field col s6">
                                                    <input required placeholder="Cuit" id="" type="text" class="validate" value="" minlength="10" size="14" ng-model="franquicia.cuit">
                                                    <label for="">Cuit</label>
                                                </div>
                                            </div>
                                            <a id="btn-aceptar-agregar-sucursal" class="waves-effect waves-light btn-large  white-text z-depth-4" title="Aceptar" ng-click="grabarFranquicia(franquicia)">Aceptar</a>

                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!--CONFIGURACION-->
                    <div class="row" ng-show="accion == 'Configuracion'" ng-controller="configController">
                        <div class="col-md-12">
                            <div class="card card-default widget">
                                <div class="card-heading">
                                </div>
                                <div class="card-body">
                                    <ul class="nav nav-tabs">
                                        <li role="presentation" class="nav-item">
                                            <a href="#" role="tab" data-toggle="tab" class="nav-link active show"
                                               aria-selected="true" ng-click="Configuracion1()">Configuracion</a>
                                        </li>
                                        <li role="presentation" class="nav-item">
                                            <a href="#" role="tab" data-toggle="tab" class="nav-link "
                                               aria-selected="true" ng-click="Configuracion2()" >Permisos</a>
                                        </li>
                                    </ul>
                                    <div class="tab-content" ng-show="subaccion == 'Configuracion1'">
                                    <div action="" class="col s12">
                                      <form class="col s6">
                                       <p class="" id="titulo-contenedor-sucursal"> Nuevo Usuario </p>
                                       <!--- Inputs crear usuario-->
                                       <!--Agregar Angular  a inputs  -->
                                       <div class="input-field col ">
                                           <input required placeholder="Usuario" type="text" class="validate" ng-model="usuario.usuario">
                                           <label for="">Usuario</label>
                                       </div>
                                       <div class="input-field col ">
                                           <input required type="password" class="validate" placeholder="Contraseña" ng-model="usuario.password">
                                           <label for="">Contraseña</label>
                                       </div>
                                       <div class="input-field col ">
                                           <select name="" id="" class="custom-select" ng-model="empleado" ng-options=" empleado as empleado.apellido +', '+ empleado.nombre for
                                            empleado in empleados track by empleado.idEmpleado">
                                               <option value="" selected disabled> Elegir empleado </option>
                                           </select>
                                       </div>
                                          <div class="input-field col ">
                                           <select name="" id="" class="custom-select" ng-model="perfil" ng-options="perfil as perfil.nombre for perfil in perfiles track by perfil.idPerfil">
                                               <option value="" selected disabled> Eligir perfil de usuario</option>
                                           </select>
                                       </div>
                                          <div class="input-field col s12">
                                              <a id="btn-aceptar-agregar-sucursal" class="waves-effect waves-light btn-large  white-text z-depth-4" title="Aceptar" ng-click="grabarUsuario(usuario,empleado,perfil)"> ACEPTAR </a>
                                          </div>

                                        </form>
                                            
                                        <div class="input-field col s6">
                                            <table class="table centered">
                                                <thead>
                                                    <tr>
                                                        <th>#</th>
                                                        <th>Empleado</th>
                                                        <th>Sucursal</th>
                                                        <th>Permisos</th>
                                                        <th>----</th>
                                                    </tr>
                                                </thead>
                                                <tbody >
                                                   <tr ng-repeat="u in usuarios">
                                                    <td>{{u.idUsuario}}</td>
                                                    <td>{{u.idEmpleado}}</td>
                                                    <td>{{u.usuario}}</td>
                                                    <td ng-repeat="p in u.Perfiles">{{p.nombre}}</td>
                                                    <td><i class="material-icons icono-modificar"     title="Editar">wsit</i>
                                                        <i class="material-icons icono-eliminar" title="Eliminar">delete</i>
                                                    </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        
                                    </div>
                                    </div>
                                    
                                    <div class="tab-content" ng-show="subaccion == 'Configuracion2'">
                                    
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    <footer class="">
                    </footer>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="node_modules/angular/angular.min.js"></script>
<script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="assets/js/app.js"></script>
<script src="node_modules/jquery/dist/jquery.min.js"></script>
<script src="node_modules/Materialize/materialize.js"></script>
<script src="assets/js/spark.js"></script>
<script src="assets/js/init.js"></script>


<script>
</script>

</body>

</html>
